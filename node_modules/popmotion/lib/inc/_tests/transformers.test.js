'use strict';

var _transformers = require('../transformers');

describe('appendUnit()', function () {
  it('should return a function that appends a unit to provided numbers', function () {
    expect((0, _transformers.appendUnit)('px')(5)).toBe('5px');
  });
});

describe('applyOffset()', function () {
  it('should return a function that applys the offset from `from` and apply it to `to`', function () {
    expect((0, _transformers.applyOffset)(0, 10)(20)).toBe(30);
  });
});

describe('bezier()', function () {
  it('should return a function that resolves the provided bezier points with either 3 or 4 points', function () {
    var resolveBezier3 = (0, _transformers.bezier)([0, 1, 2]);
    expect(resolveBezier3(0)).toBe(0);
    expect(resolveBezier3(0.5)).toBe(1);
    expect(resolveBezier3(1)).toBe(2);

    var resolveBezier4 = (0, _transformers.bezier)([0, 1, 2, 3]);
    expect(resolveBezier4(0)).toBe(0);
    expect(resolveBezier4(0.5)).toBe(1.5);
    expect(resolveBezier4(1)).toBe(3);
  });
});

describe('clamp()', function () {
  it('should return a function that clamps numbers to within the provided range', function () {
    var clamper = (0, _transformers.clamp)(0, 1);
    expect(clamper(-1)).toBe(0);
    expect(clamper(0.5)).toBe(0.5);
  });
});

describe('clampMax()', function () {
  it('should return a function that clamps numbers to under the provided value', function () {
    var clamper = (0, _transformers.clampMax)(1);
    expect(clamper(0.5)).toBe(0.5);
    expect(clamper(2)).toBe(1);
  });
});

describe('clampMin()', function () {
  it('should return a function that clamps numbers to over the provided value', function () {
    var clamper = (0, _transformers.clampMin)(0);
    expect(clamper(1)).toBe(1);
    expect(clamper(-1)).toBe(0);
  });
});

describe('conditional()', function () {
  it('should return a function that only fires `ifTrue` if `check` is `true`', function () {
    var testCondition = (0, _transformers.conditional)(function (v) {
      return v < 0;
    }, function () {
      return 5;
    });

    expect(testCondition(-20)).toBe(5);
    expect(testCondition(20)).toBe(20);
  });

  it('should fire `ifFalse` if set', function () {
    var testCondition = (0, _transformers.conditional)(function (v) {
      return v === 0;
    }, function () {
      return true;
    }, function () {
      return false;
    });

    expect(testCondition(0)).toBe(true);
    expect(testCondition(1)).toBe(false);
  });
});

describe('flow', function () {
  it('should return a function that will pass all arguments to all functions in\n    order, with the first argument being replaced with the returned value\n    of the previous function', function () {
    var func = (0, _transformers.flow)(function (v, a) {
      return v * a;
    }, function (v, a) {
      return v + a;
    });

    expect(func(5, 2)).toBe(12);
  });
});

describe('interpolate()', function () {
  it('should create a function that interpolates between one range\n    of numbers to another', function () {
    var simpleInterpolator = (0, _transformers.interpolate)([0, 1000], [500, 600]);
    expect(simpleInterpolator(500)).toBe(550);

    var complexInterpolator = (0, _transformers.interpolate)([0, 100, 200], [1000, 500, 1000]);
    expect(complexInterpolator(100)).toBe(500);
  });

  it('should optionally accept an easing function', function () {});
});

describe('subtract()', function () {
  it('should return a function that returns an offset from the provided origin', function () {
    var offsetFrom50 = (0, _transformers.subtract)(50);
    expect(offsetFrom50(25)).toBe(-25);
    expect(offsetFrom50(75)).toBe(25);
  });
});

describe('add()', function () {
  it('should return a function that returns the value added to the origin', function () {
    var addTo50 = (0, _transformers.add)(50);
    expect(addTo50(25)).toBe(75);
    expect(addTo50(-75)).toBe(-25);
  });
});

describe('unit transformers', function () {
  it('should append the correct units', function () {
    expect((0, _transformers.px)(10)).toBe('10px');
    expect((0, _transformers.degrees)(360)).toBe('360deg');
    expect((0, _transformers.percent)(100)).toBe('100%');
    expect((0, _transformers.rgbUnit)(256)).toBe(255);
    expect((0, _transformers.rgbUnit)(24.5)).toBe(25);
    expect((0, _transformers.rgba)({
      red: 256,
      green: 24.5,
      blue: 0
    })).toBe('rgba(255, 25, 0, 1)');
    expect((0, _transformers.hsla)({
      hue: 100,
      saturation: 50,
      lightness: 50,
      alpha: 1
    })).toBe('hsla(100, 50%, 50%, 1)');
    expect((0, _transformers.alpha)(2)).toBe(1);
    expect((0, _transformers.color)({
      red: 256,
      green: 24.5,
      blue: 0
    })).toBe('rgba(255, 25, 0, 1)');
    expect((0, _transformers.color)({
      hue: 100,
      saturation: 50,
      lightness: 50,
      alpha: 1
    })).toBe('hsla(100, 50%, 50%, 1)');
  });
});

describe('steps()', function () {
  it('should return a function that correctly steps the value given to it across its range', function () {
    var threeStep = (0, _transformers.steps)(3, 0, 100);
    expect(threeStep(1)).toBe(0);
    expect(threeStep(49)).toBe(50);
    expect(threeStep(75)).toBe(100);
  });
});

describe('snap()', function () {
  it('should snap a number to the nearest in the provided array', function () {
    var snapTo = (0, _transformers.snap)([-100, -50, 100, 200]);

    expect(snapTo(-200)).toBe(-100);
    expect(snapTo(-100)).toBe(-100);
    expect(snapTo(-76)).toBe(-100);
    expect(snapTo(-74)).toBe(-50);
    expect(snapTo(0)).toBe(-50);
    expect(snapTo(99)).toBe(100);
    expect(snapTo(150)).toBe(200);
    expect(snapTo(300)).toBe(200);
  });

  it('should snap a number to a regular interval', function () {
    var snapTo = (0, _transformers.snap)(45);

    expect(snapTo(1)).toBe(0);
    expect(snapTo(44)).toBe(45);
    expect(snapTo(89)).toBe(90);
    expect(snapTo(-44)).toBe(-45);
  });
});

describe('wrap()', function () {
  it('should wrap numbers back around to the start of provided range', function () {
    var wrapAround = (0, _transformers.wrap)(-100, 100);

    expect(wrapAround(-100)).toBe(-100);
    expect(wrapAround(0)).toBe(0);
    expect(wrapAround(-200)).toBe(0);
    expect(wrapAround(101)).toBe(-99);
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9pbmMvX3Rlc3RzL3RyYW5zZm9ybWVycy50ZXN0LmpzIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwiaXQiLCJleHBlY3QiLCJ0b0JlIiwicmVzb2x2ZUJlemllcjMiLCJyZXNvbHZlQmV6aWVyNCIsImNsYW1wZXIiLCJ0ZXN0Q29uZGl0aW9uIiwidiIsImZ1bmMiLCJhIiwic2ltcGxlSW50ZXJwb2xhdG9yIiwiY29tcGxleEludGVycG9sYXRvciIsIm9mZnNldEZyb201MCIsImFkZFRvNTAiLCJyZWQiLCJncmVlbiIsImJsdWUiLCJodWUiLCJzYXR1cmF0aW9uIiwibGlnaHRuZXNzIiwiYWxwaGEiLCJ0aHJlZVN0ZXAiLCJzbmFwVG8iLCJ3cmFwQXJvdW5kIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQXlCQUEsU0FBUyxjQUFULEVBQXlCLFlBQU07QUFDN0JDLEtBQUcsa0VBQUgsRUFBdUUsWUFBTTtBQUMzRUMsV0FBTyw4QkFBVyxJQUFYLEVBQWlCLENBQWpCLENBQVAsRUFBNEJDLElBQTVCLENBQWlDLEtBQWpDO0FBQ0QsR0FGRDtBQUdELENBSkQ7O0FBTUFILFNBQVMsZUFBVCxFQUEwQixZQUFNO0FBQzlCQyxLQUFHLGtGQUFILEVBQXVGLFlBQU07QUFDM0ZDLFdBQU8sK0JBQVksQ0FBWixFQUFlLEVBQWYsRUFBbUIsRUFBbkIsQ0FBUCxFQUErQkMsSUFBL0IsQ0FBb0MsRUFBcEM7QUFDRCxHQUZEO0FBR0QsQ0FKRDs7QUFNQUgsU0FBUyxVQUFULEVBQXFCLFlBQU07QUFDekJDLEtBQUcsNkZBQUgsRUFBa0csWUFBTTtBQUN0RyxRQUFNRyxpQkFBaUIsMEJBQU8sQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsQ0FBUCxDQUF2QjtBQUNBRixXQUFPRSxlQUFlLENBQWYsQ0FBUCxFQUEwQkQsSUFBMUIsQ0FBK0IsQ0FBL0I7QUFDQUQsV0FBT0UsZUFBZSxHQUFmLENBQVAsRUFBNEJELElBQTVCLENBQWlDLENBQWpDO0FBQ0FELFdB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LENBQVAsQ0FBUCxFQUFrQnBCLElBQWxCLENBQXVCLENBQXZCO0FBQ0FELFdBQU9xQixPQUFPLEVBQVAsQ0FBUCxFQUFtQnBCLElBQW5CLENBQXdCLEVBQXhCO0FBQ0FELFdBQU9xQixPQUFPLEVBQVAsQ0FBUCxFQUFtQnBCLElBQW5CLENBQXdCLEVBQXhCO0FBQ0FELFdBQU9xQixPQUFPLENBQUMsRUFBUixDQUFQLEVBQW9CcEIsSUFBcEIsQ0FBeUIsQ0FBQyxFQUExQjtBQUNELEdBUEQ7QUFRRCxDQXRCRDs7QUF3QkFILFNBQVMsUUFBVCxFQUFtQixZQUFNO0FBQ3ZCQyxLQUFHLGdFQUFILEVBQXFFLFlBQU07QUFDekUsUUFBTXVCLGFBQWEsd0JBQUssQ0FBQyxHQUFOLEVBQVcsR0FBWCxDQUFuQjs7QUFFQXRCLFdBQU9zQixXQUFXLENBQUMsR0FBWixDQUFQLEVBQXlCckIsSUFBekIsQ0FBOEIsQ0FBQyxHQUEvQjtBQUNBRCxXQUFPc0IsV0FBVyxDQUFYLENBQVAsRUFBc0JyQixJQUF0QixDQUEyQixDQUEzQjtBQUNBRCxXQUFPc0IsV0FBVyxDQUFDLEdBQVosQ0FBUCxFQUF5QnJCLElBQXpCLENBQThCLENBQTlCO0FBQ0FELFdBQU9zQixXQUFXLEdBQVgsQ0FBUCxFQUF3QnJCLElBQXhCLENBQTZCLENBQUMsRUFBOUI7QUFDRCxHQVBEO0FBUUQsQ0FURCIsImZpbGUiOiJ0cmFuc2Zvcm1lcnMudGVzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFwcGVuZFVuaXQsXG4gIGFwcGx5T2Zmc2V0LFxuICBiZXppZXIsXG4gIGNsYW1wLFxuICBjbGFtcE1heCxcbiAgY2xhbXBNaW4sXG4gIGNvbmRpdGlvbmFsLFxuICBmbG93LFxuICBpbnRlcnBvbGF0ZSxcbiAgYWRkLFxuICBzdWJ0cmFjdCxcbiAgcHgsXG4gIGRlZ3JlZXMsXG4gIHBlcmNlbnQsXG4gIHJnYmEsXG4gIHJnYlVuaXQsXG4gIGhzbGEsXG4gIGFscGhhLFxuICBjb2xvcixcbiAgc3RlcHMsXG4gIHdyYXAsXG4gIHNuYXBcbn0gZnJvbSAnLi4vdHJhbnNmb3JtZXJzJztcblxuZGVzY3JpYmUoJ2FwcGVuZFVuaXQoKScsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IGFwcGVuZHMgYSB1bml0IHRvIHByb3ZpZGVkIG51bWJlcnMnLCAoKSA9PiB7XG4gICAgZXhwZWN0KGFwcGVuZFVuaXQoJ3B4JykoNSkpLnRvQmUoJzVweCcpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnYXBwbHlPZmZzZXQoKScsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IGFwcGx5cyB0aGUgb2Zmc2V0IGZyb20gYGZyb21gIGFuZCBhcHBseSBpdCB0byBgdG9gJywgKCkgPT4ge1xuICAgIGV4cGVjdChhcHBseU9mZnNldCgwLCAxMCkoMjApKS50b0JlKDMwKTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ2JlemllcigpJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIHJldHVybiBhIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb3ZpZGVkIGJlemllciBwb2ludHMgd2l0aCBlaXRoZXIgMyBvciA0IHBvaW50cycsICgpID0+IHtcbiAgICBjb25zdCByZXNvbHZlQmV6aWVyMyA9IGJlemllcihbMCwgMSwgMl0pO1xuICAgIGV4cGVjdChyZXNvbHZlQmV6aWVyMygwKSkudG9CZSgwKTtcbiAgICBleHBlY3QocmVzb2x2ZUJlemllcjMoMC41KSkudG9CZSgxKTtcbiAgICBleHBlY3QocmVzb2x2ZUJlemllcjMoMSkpLnRvQmUoMik7XG5cbiAgICBjb25zdCByZXNvbHZlQmV6aWVyNCA9IGJlemllcihbMCwgMSwgMiwgM10pO1xuICAgIGV4cGVjdChyZXNvbHZlQmV6aWVyNCgwKSkudG9CZSgwKTtcbiAgICBleHBlY3QocmVzb2x2ZUJlemllcjQoMC41KSkudG9CZSgxLjUpO1xuICAgIGV4cGVjdChyZXNvbHZlQmV6aWVyNCgxKSkudG9CZSgzKTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ2NsYW1wKCknLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgcmV0dXJuIGEgZnVuY3Rpb24gdGhhdCBjbGFtcHMgbnVtYmVycyB0byB3aXRoaW4gdGhlIHByb3ZpZGVkIHJhbmdlJywgKCkgPT4ge1xuICAgIGNvbnN0IGNsYW1wZXIgPSBjbGFtcCgwLCAxKTtcbiAgICBleHBlY3QoY2xhbXBlcigtMSkpLnRvQmUoMCk7XG4gICAgZXhwZWN0KGNsYW1wZXIoMC41KSkudG9CZSgwLjUpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnY2xhbXBNYXgoKScsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IGNsYW1wcyBudW1iZXJzIHRvIHVuZGVyIHRoZSBwcm92aWRlZCB2YWx1ZScsICgpID0+IHtcbiAgICBjb25zdCBjbGFtcGVyID0gY2xhbXBNYXgoMSk7XG4gICAgZXhwZWN0KGNsYW1wZXIoMC41KSkudG9CZSgwLjUpO1xuICAgIGV4cGVjdChjbGFtcGVyKDIpKS50b0JlKDEpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnY2xhbXBNaW4oKScsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IGNsYW1wcyBudW1iZXJzIHRvIG92ZXIgdGhlIHByb3ZpZGVkIHZhbHVlJywgKCkgPT4ge1xuICAgIGNvbnN0IGNsYW1wZXIgPSBjbGFtcE1pbigwKTtcbiAgICBleHBlY3QoY2xhbXBlcigxKSkudG9CZSgxKTtcbiAgICBleHBlY3QoY2xhbXBlcigtMSkpLnRvQmUoMCk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdjb25kaXRpb25hbCgpJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIHJldHVybiBhIGZ1bmN0aW9uIHRoYXQgb25seSBmaXJlcyBgaWZUcnVlYCBpZiBgY2hlY2tgIGlzIGB0cnVlYCcsICgpID0+IHtcbiAgICBjb25zdCB0ZXN0Q29uZGl0aW9uID0gY29uZGl0aW9uYWwoXG4gICAgICAodikgPT4gdiA8IDAsXG4gICAgICAoKSA9PiA1XG4gICAgKTtcblxuICAgIGV4cGVjdCh0ZXN0Q29uZGl0aW9uKC0yMCkpLnRvQmUoNSk7XG4gICAgZXhwZWN0KHRlc3RDb25kaXRpb24oMjApKS50b0JlKDIwKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBmaXJlIGBpZkZhbHNlYCBpZiBzZXQnLCAoKSA9PiB7XG4gICAgY29uc3QgdGVzdENvbmRpdGlvbiA9IGNvbmRpdGlvbmFsKFxuICAgICAgKHYpID0+IHYgPT09IDAsXG4gICAgICAoKSA9PiB0cnVlLFxuICAgICAgKCkgPT4gZmFsc2VcbiAgICApO1xuXG4gICAgZXhwZWN0KHRlc3RDb25kaXRpb24oMCkpLnRvQmUodHJ1ZSk7XG4gICAgZXhwZWN0KHRlc3RDb25kaXRpb24oMSkpLnRvQmUoZmFsc2UpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnZmxvdycsICgpID0+IHtcbiAgaXQoXG4gICAgYHNob3VsZCByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHdpbGwgcGFzcyBhbGwgYXJndW1lbnRzIHRvIGFsbCBmdW5jdGlvbnMgaW5cbiAgICBvcmRlciwgd2l0aCB0aGUgZmlyc3QgYXJndW1lbnQgYmVpbmcgcmVwbGFjZWQgd2l0aCB0aGUgcmV0dXJuZWQgdmFsdWVcbiAgICBvZiB0aGUgcHJldmlvdXMgZnVuY3Rpb25gLFxuICAgICgpID0+IHtcbiAgICAgIGNvbnN0IGZ1bmMgPSBmbG93KFxuICAgICAgICAodiwgYSkgPT4gdiAqIGEsXG4gICAgICAgICh2LCBhKSA9PiB2ICsgYVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KGZ1bmMoNSwgMikpLnRvQmUoMTIpO1xuICAgIH1cbiAgKTtcbn0pO1xuXG5kZXNjcmliZSgnaW50ZXJwb2xhdGUoKScsICgpID0+IHtcbiAgaXQoXG4gICAgYHNob3VsZCBjcmVhdGUgYSBmdW5jdGlvbiB0aGF0IGludGVycG9sYXRlcyBiZXR3ZWVuIG9uZSByYW5nZVxuICAgIG9mIG51bWJlcnMgdG8gYW5vdGhlcmAsXG4gICAgKCkgPT4ge1xuICAgICAgY29uc3Qgc2ltcGxlSW50ZXJwb2xhdG9yID0gaW50ZXJwb2xhdGUoWzAsIDEwMDBdLCBbNTAwLCA2MDBdKTtcbiAgICAgIGV4cGVjdChzaW1wbGVJbnRlcnBvbGF0b3IoNTAwKSkudG9CZSg1NTApO1xuXG4gICAgICBjb25zdCBjb21wbGV4SW50ZXJwb2xhdG9yID0gaW50ZXJwb2xhdGUoXG4gICAgICAgIFswLCAxMDAsIDIwMF0sXG4gICAgICAgIFsxMDAwLCA1MDAsIDEwMDBdXG4gICAgICApO1xuICAgICAgZXhwZWN0KGNvbXBsZXhJbnRlcnBvbGF0b3IoMTAwKSkudG9CZSg1MDApO1xuICAgIH1cbiAgKTtcblxuICBpdCgnc2hvdWxkIG9wdGlvbmFsbHkgYWNjZXB0IGFuIGVhc2luZyBmdW5jdGlvbicsICgpID0+IHtcblxuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnc3VidHJhY3QoKScsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gb2Zmc2V0IGZyb20gdGhlIHByb3ZpZGVkIG9yaWdpbicsICgpID0+IHtcbiAgICBjb25zdCBvZmZzZXRGcm9tNTAgPSBzdWJ0cmFjdCg1MCk7XG4gICAgZXhwZWN0KG9mZnNldEZyb201MCgyNSkpLnRvQmUoLTI1KTtcbiAgICBleHBlY3Qob2Zmc2V0RnJvbTUwKDc1KSkudG9CZSgyNSk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdhZGQoKScsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHZhbHVlIGFkZGVkIHRvIHRoZSBvcmlnaW4nLCAoKSA9PiB7XG4gICAgY29uc3QgYWRkVG81MCA9IGFkZCg1MCk7XG4gICAgZXhwZWN0KGFkZFRvNTAoMjUpKS50b0JlKDc1KTtcbiAgICBleHBlY3QoYWRkVG81MCgtNzUpKS50b0JlKC0yNSk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCd1bml0IHRyYW5zZm9ybWVycycsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCBhcHBlbmQgdGhlIGNvcnJlY3QgdW5pdHMnLCAoKSA9PiB7XG4gICAgZXhwZWN0KHB4KDEwKSkudG9CZSgnMTBweCcpO1xuICAgIGV4cGVjdChkZWdyZWVzKDM2MCkpLnRvQmUoJzM2MGRlZycpO1xuICAgIGV4cGVjdChwZXJjZW50KDEwMCkpLnRvQmUoJzEwMCUnKTtcbiAgICBleHBlY3QocmdiVW5pdCgyNTYpKS50b0JlKDI1NSk7XG4gICAgZXhwZWN0KHJnYlVuaXQoMjQuNSkpLnRvQmUoMjUpO1xuICAgIGV4cGVjdChyZ2JhKHtcbiAgICAgIHJlZDogMjU2LFxuICAgICAgZ3JlZW46IDI0LjUsXG4gICAgICBibHVlOiAwXG4gICAgfSkpLnRvQmUoJ3JnYmEoMjU1LCAyNSwgMCwgMSknKTtcbiAgICBleHBlY3QoaHNsYSh7XG4gICAgICBodWU6IDEwMCxcbiAgICAgIHNhdHVyYXRpb246IDUwLFxuICAgICAgbGlnaHRuZXNzOiA1MCxcbiAgICAgIGFscGhhOiAxXG4gICAgfSkpLnRvQmUoJ2hzbGEoMTAwLCA1MCUsIDUwJSwgMSknKTtcbiAgICBleHBlY3QoYWxwaGEoMikpLnRvQmUoMSk7XG4gICAgZXhwZWN0KGNvbG9yKHtcbiAgICAgIHJlZDogMjU2LFxuICAgICAgZ3JlZW46IDI0LjUsXG4gICAgICBibHVlOiAwXG4gICAgfSkpLnRvQmUoJ3JnYmEoMjU1LCAyNSwgMCwgMSknKTtcbiAgICBleHBlY3QoY29sb3Ioe1xuICAgICAgaHVlOiAxMDAsXG4gICAgICBzYXR1cmF0aW9uOiA1MCxcbiAgICAgIGxpZ2h0bmVzczogNTAsXG4gICAgICBhbHBoYTogMVxuICAgIH0pKS50b0JlKCdoc2xhKDEwMCwgNTAlLCA1MCUsIDEpJyk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdzdGVwcygpJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIHJldHVybiBhIGZ1bmN0aW9uIHRoYXQgY29ycmVjdGx5IHN0ZXBzIHRoZSB2YWx1ZSBnaXZlbiB0byBpdCBhY3Jvc3MgaXRzIHJhbmdlJywgKCkgPT4ge1xuICAgIGNvbnN0IHRocmVlU3RlcCA9IHN0ZXBzKDMsIDAsIDEwMCk7XG4gICAgZXhwZWN0KHRocmVlU3RlcCgxKSkudG9CZSgwKTtcbiAgICBleHBlY3QodGhyZWVTdGVwKDQ5KSkudG9CZSg1MCk7XG4gICAgZXhwZWN0KHRocmVlU3RlcCg3NSkpLnRvQmUoMTAwKTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ3NuYXAoKScsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCBzbmFwIGEgbnVtYmVyIHRvIHRoZSBuZWFyZXN0IGluIHRoZSBwcm92aWRlZCBhcnJheScsICgpID0+IHtcbiAgICBjb25zdCBzbmFwVG8gPSBzbmFwKFstMTAwLCAtNTAsIDEwMCwgMjAwXSk7XG5cbiAgICBleHBlY3Qoc25hcFRvKC0yMDApKS50b0JlKC0xMDApO1xuICAgIGV4cGVjdChzbmFwVG8oLTEwMCkpLnRvQmUoLTEwMCk7XG4gICAgZXhwZWN0KHNuYXBUbygtNzYpKS50b0JlKC0xMDApO1xuICAgIGV4cGVjdChzbmFwVG8oLTc0KSkudG9CZSgtNTApO1xuICAgIGV4cGVjdChzbmFwVG8oMCkpLnRvQmUoLTUwKTtcbiAgICBleHBlY3Qoc25hcFRvKDk5KSkudG9CZSgxMDApO1xuICAgIGV4cGVjdChzbmFwVG8oMTUwKSkudG9CZSgyMDApO1xuICAgIGV4cGVjdChzbmFwVG8oMzAwKSkudG9CZSgyMDApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHNuYXAgYSBudW1iZXIgdG8gYSByZWd1bGFyIGludGVydmFsJywgKCkgPT4ge1xuICAgIGNvbnN0IHNuYXBUbyA9IHNuYXAoNDUpO1xuXG4gICAgZXhwZWN0KHNuYXBUbygxKSkudG9CZSgwKTtcbiAgICBleHBlY3Qoc25hcFRvKDQ0KSkudG9CZSg0NSk7XG4gICAgZXhwZWN0KHNuYXBUbyg4OSkpLnRvQmUoOTApO1xuICAgIGV4cGVjdChzbmFwVG8oLTQ0KSkudG9CZSgtNDUpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnd3JhcCgpJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIHdyYXAgbnVtYmVycyBiYWNrIGFyb3VuZCB0byB0aGUgc3RhcnQgb2YgcHJvdmlkZWQgcmFuZ2UnLCAoKSA9PiB7XG4gICAgY29uc3Qgd3JhcEFyb3VuZCA9IHdyYXAoLTEwMCwgMTAwKTtcblxuICAgIGV4cGVjdCh3cmFwQXJvdW5kKC0xMDApKS50b0JlKC0xMDApO1xuICAgIGV4cGVjdCh3cmFwQXJvdW5kKDApKS50b0JlKDApO1xuICAgIGV4cGVjdCh3cmFwQXJvdW5kKC0yMDApKS50b0JlKDApO1xuICAgIGV4cGVjdCh3cmFwQXJvdW5kKDEwMSkpLnRvQmUoLTk5KTtcbiAgfSk7XG59KTtcbiJdfQ==