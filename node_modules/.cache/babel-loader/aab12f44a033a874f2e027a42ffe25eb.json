{"ast":null,"code":"var _jsxFileName = \"/Users/emilycooper/FumbleRepo/src/examples/Simple.js\";\nimport React, { useState, useEffect } from \"react\"; // import TinderCard from '../react-tinder-card/index'\n\nimport TinderCard from \"react-tinder-card\";\nimport ReactDOM from \"react-dom\";\nimport ConfettiGenerator from \"confetti-js\";\nvar queried = false; // var searchcombination = 'richmond,va'\n\nvar count = 0;\nvar savedforlater = []; // contains the saved deals\n// var url_pics = ''\n// // --- random number for images\n// const food = [\n//   {\n//           img: 'Richard Hendricks',\n//           url: \"/docs/img/dinesh.jpg\",\n//           num: 0\n//         },\n//         {\n//           img: 'Erlich Bachman',\n//           url: \"/docs/img/erlich.jpg\",\n//           num: 1\n//         }\n// ]\n// function getRandomNumberBetween(min,max){\n//   var num = Math.floor(Math.random()*(max-min+1)+min)\n//   url_pics = food[num].url\n//   console.log(url_pics)\n// }\n// getRandomNumberBetween(0,1);\n// ---\n\nfunction Simple() {\n  console.log(temparray); //console.log(\"searchcombination: \" + searchcombination)\n\n  var temparray = [];\n  const [arrayofplaces, setarray] = useState([{\n    name: \"Finding you deals...\",\n    price_saved: 0,\n    description: \"\",\n    fine_print: \"\"\n  }]);\n  var [searchcombination, setlocation] = useState('mclean,va');\n  useEffect(() => {\n    console.log(\"in useEffect\");\n\n    if (!queried) {\n      fetch(\"https://api.discountapi.com/v2/deals?category_slugs=restaurants&location=\" + searchcombination + \"&api_key=KiyYblAt\").then(function (response) {\n        return response.json();\n      }).then(function (result) {\n        console.log(result);\n        queried = true;\n\n        for (var i = 0; i < result.deals.length; i++) {\n          temparray.push({\n            name: result.deals[i].deal.title,\n            price_saved: result.deals[i].deal.discount_amount,\n            description: result.deals[i].deal.description,\n            fine_print: result.deals[i].deal.fine_print,\n            url: result.deals[i].deal.url\n          });\n        }\n\n        setarray(temparray);\n      });\n    }\n  }, [searchcombination]);\n  const [lastDirection, setLastDirection] = useState();\n  var swipedRight = []; // tracks the deals that the user liked\n\n  var swipes = 0; // tracks the number of swipes used\n  // connected to the search button - updates the location chosen by the user\n\n  const changelocation = () => {\n    console.log(\"in the search\");\n    var city = document.getElementById(\"citySearch\").value;\n    var state = document.getElementById(\"stateSearch\").value;\n    searchcombination = city + ',' + state;\n    searchcombination = searchcombination.toLowerCase();\n    console.log(searchcombination);\n    queried = false;\n    setlocation(searchcombination);\n  };\n\n  const savedclick = arrayofsaved => {\n    var modal = document.getElementById(\"savedModal\");\n    var span = document.getElementById(\"secondmodal\");\n    modal.style.display = \"block\";\n\n    span.onclick = function () {\n      modal.style.display = \"none\";\n    };\n  }; // called every time the details button is clicked - displays a modal containing a\n  // more detailed description of the deal\n\n\n  const clicked = (title, description, fine_print) => {\n    var modal = document.getElementById(\"myModal\");\n    var modaltext = document.getElementById(\"deal\");\n    document.getElementById(\"banner\").textContent = \"More Information\";\n    document.getElementById(\"deal\").textContent = title;\n    document.getElementById(\"description\").textContent = description;\n    document.getElementById(\"finePrint\").textContent = fine_print; // Get the <span> element that closes the modal\n\n    var span = document.getElementsByClassName(\"close\")[0];\n    modal.style.display = \"block\"; // When the user clicks on <span> (x), close the modal\n\n    span.onclick = function () {\n      modal.style.display = \"none\";\n    };\n  };\n\n  const swiped = (direction, nameToDelete, price_saved, descriptiona, fineprinta, urla) => {\n    if (direction === \"up\" || direction === \"down\") {\n      if (savedforlater.length < 5) {\n        savedforlater.push({\n          name: nameToDelete,\n          description: descriptiona,\n          fine_print: fineprinta\n        });\n        var i = savedforlater.length;\n        var elemid = \"slide \" + savedforlater.length;\n        var slide = document.getElementById(elemid);\n        slide.style.display = \"block\";\n        var banner = document.getElementById(\"banner2\");\n        banner.innerHTML = \"Your Saved Deals\";\n        var name = document.getElementById(\"name \" + i);\n        var desc = document.getElementById(\"desc \" + i);\n        var finepr = document.getElementById(\"finepr \" + i);\n        var url = document.getElementById(\"url \" + i);\n        name.innerHTML = nameToDelete;\n        desc.innerHTML = descriptiona;\n        finepr.innerHTML = fineprinta;\n        url.innerHTML = \"Link\";\n        url.setAttribute(\"href\", urla);\n        url.setAttribute(\"target\", \"_blank\");\n      } else {\n        alert(\"Too many deals!\");\n      }\n    }\n\n    if (direction === \"right\") {\n      swipes++;\n      swipedRight.push({\n        name: nameToDelete,\n        savings: price_saved,\n        description: descriptiona,\n        fine_print: fineprinta,\n        url: urla\n      });\n      console.log(swipedRight);\n\n      if (swipes === 4) {\n        var highest = Number.MIN_VALUE;\n        var ans = \"test\";\n\n        for (var i = 0; i < swipedRight.length; i++) {\n          if (swipedRight[i].savings > highest) {\n            highest = swipedRight[i].savings;\n            ans = swipedRight[i];\n          }\n        }\n\n        var modal = document.getElementById(\"myModal\");\n        var modaltext = document.getElementById(\"deal\");\n        document.getElementById(\"banner\").textContent = \"HERE IS YOUR DEAL WOOOO\";\n        document.getElementById(\"deal\").textContent = ans.name;\n        document.getElementById(\"savings\").textContent = \"You Saved: \" + ans.savings + \" ðŸ¤‘\";\n        document.getElementById(\"description\").textContent = ans.description;\n        document.getElementById(\"finePrint\").textContent = ans.fine_print;\n        document.getElementById(\"url\").style.display = \"block\";\n        document.getElementById(\"url\").textContent = \"Click here for link to deal\";\n        document.getElementById(\"url\").setAttribute(\"href\", ans.url);\n        document.getElementById(\"url\").setAttribute(\"target\", \"_blank\"); // Get the <span> element that closes the modal\n\n        var span = document.getElementsByClassName(\"close\")[0];\n        modal.style.display = \"block\"; // When the user clicks on <span> (x), close the modal\n\n        span.onclick = function () {\n          document.getElementById(\"url\").style.display = \"none\";\n          modal.style.display = \"none\";\n          swipes = 0;\n          swipedRight = [];\n        };\n      }\n    }\n\n    console.log(\"removing: \" + nameToDelete);\n    setLastDirection(direction);\n    count++;\n  };\n\n  const outOfFrame = name => {\n    console.log(name + \" left the screen!\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"readable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"link\", {\n    href: \"https://fonts.googleapis.com/css?family=Damion&display=swap\",\n    rel: \"stylesheet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"link\", {\n    href: \"https://fonts.googleapis.com/css?family=Alatsi&display=swap\",\n    rel: \"stylesheet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"link\", {\n    href: \"https://fonts.googleapis.com/css2?family=Staatliches&display=swap\",\n    rel: \"stylesheet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"link\", {\n    href: \"https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300&display=swap\",\n    rel: \"stylesheet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-entry\",\n    type: \"text\",\n    placeholder: \"Enter your city...\",\n    id: \"citySearch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter your state..\",\n    id: \"stateSearch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => changelocation(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 9\n    }\n  }, \"Search\")), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }\n  }, \"Swipe right on your fave deals!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cardContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }\n  }, arrayofplaces.map(place => /*#__PURE__*/React.createElement(TinderCard, {\n    className: \"swipe\",\n    key: place.name,\n    onSwipe: dir => swiped(dir, place.name, place.price_saved, place.description, place.fine_print, place.url),\n    onCardLeftScreen: () => outOfFrame(place.name),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    // style={{ backgroundImage: \"url(\" + \"http://clipart-library.com/img1/1439306.png\" + \")\" }}\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 15\n    }\n  }, place.name), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => clicked(place.name, place.description, place.fine_print),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 21\n    }\n  }, \" Details \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"imagecontainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 9\n    }\n  }, \" You're Out Of Cards\")), lastDirection ? /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"infoText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 9\n    }\n  }, \"You swiped \", lastDirection) : /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"infoText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"savedcards\",\n    onClick: () => savedclick(savedforlater),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }\n  }, \" See Your Saved Cards \"));\n}\n\nexport default Simple;","map":{"version":3,"sources":["/Users/emilycooper/FumbleRepo/src/examples/Simple.js"],"names":["React","useState","useEffect","TinderCard","ReactDOM","ConfettiGenerator","queried","count","savedforlater","Simple","console","log","temparray","arrayofplaces","setarray","name","price_saved","description","fine_print","searchcombination","setlocation","fetch","then","response","json","result","i","deals","length","push","deal","title","discount_amount","url","lastDirection","setLastDirection","swipedRight","swipes","changelocation","city","document","getElementById","value","state","toLowerCase","savedclick","arrayofsaved","modal","span","style","display","onclick","clicked","modaltext","textContent","getElementsByClassName","swiped","direction","nameToDelete","descriptiona","fineprinta","urla","elemid","slide","banner","innerHTML","desc","finepr","setAttribute","alert","savings","highest","Number","MIN_VALUE","ans","outOfFrame","map","place","dir"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n// import TinderCard from '../react-tinder-card/index'\nimport TinderCard from \"react-tinder-card\";\nimport ReactDOM from \"react-dom\";\nimport ConfettiGenerator from \"confetti-js\";\n\nvar queried = false\n// var searchcombination = 'richmond,va'\n\nvar count = 0;\nvar savedforlater = [] // contains the saved deals\n// var url_pics = ''\n// // --- random number for images\n// const food = [\n//   {\n//           img: 'Richard Hendricks',\n//           url: \"/docs/img/dinesh.jpg\",\n//           num: 0\n//         },\n//         {\n//           img: 'Erlich Bachman',\n//           url: \"/docs/img/erlich.jpg\",\n//           num: 1\n    \n//         }\n// ]\n// function getRandomNumberBetween(min,max){\n//   var num = Math.floor(Math.random()*(max-min+1)+min)\n//   url_pics = food[num].url\n//   console.log(url_pics)\n// }\n// getRandomNumberBetween(0,1);\n\n// ---\n\nfunction Simple() {\n  console.log(temparray)\n  //console.log(\"searchcombination: \" + searchcombination)\n  var temparray = []\n  const [arrayofplaces, setarray] = useState([\n    {\n      name: \"Finding you deals...\",\n      price_saved: 0,\n      description: \"\",\n      fine_print: \"\",\n    },\n  ]);\n    \n  var [searchcombination, setlocation] = useState('mclean,va')\n\n  useEffect(() => {\n    console.log(\"in useEffect\")\n    if (!queried) {\n\n      fetch(\n        \"https://api.discountapi.com/v2/deals?category_slugs=restaurants&location=\" + searchcombination + \"&api_key=KiyYblAt\"\n      )\n        .then(function (response) {\n          return response.json();\n        })\n        .then(function (result) {\n          console.log(result);\n          queried = true;\n          for (var i = 0; i < result.deals.length; i++) {\n            temparray.push({\n              name: result.deals[i].deal.title,\n              price_saved: result.deals[i].deal.discount_amount,\n              description: result.deals[i].deal.description,\n              fine_print: result.deals[i].deal.fine_print,\n              url: result.deals[i].deal.url,\n            });\n          }\n          setarray(temparray);\n        });\n      }\n  }, [searchcombination])\n\n  const [lastDirection, setLastDirection] = useState();\n  var swipedRight = []; // tracks the deals that the user liked\n  var swipes = 0; // tracks the number of swipes used\n\n  // connected to the search button - updates the location chosen by the user\n  const changelocation = () => {\n\n    console.log(\"in the search\")\n\n    var city = document.getElementById(\"citySearch\").value\n    var state = document.getElementById(\"stateSearch\").value\n    searchcombination = city + ',' + state\n    searchcombination = searchcombination.toLowerCase()\n    console.log(searchcombination)\n    queried = false\n    setlocation(searchcombination)\n  }\n\n  const savedclick = (\n    arrayofsaved\n  )  => {\n  var modal = document.getElementById(\"savedModal\");\n  var span = document.getElementById(\"secondmodal\");\n  modal.style.display = \"block\";\n  span.onclick = function () {\n    modal.style.display = \"none\";\n    };\n  }\n\n  // called every time the details button is clicked - displays a modal containing a\n  // more detailed description of the deal\n  const clicked = (\n    title,\n    description,\n    fine_print\n  ) => {\n      var modal = document.getElementById(\"myModal\");\n      var modaltext = document.getElementById(\"deal\");\n      document.getElementById(\"banner\").textContent = \"More Information\"\n      document.getElementById(\"deal\").textContent = title;\n      document.getElementById(\"description\").textContent = description;\n      document.getElementById(\"finePrint\").textContent = fine_print;\n      // Get the <span> element that closes the modal\n      var span = document.getElementsByClassName(\"close\")[0];\n      modal.style.display = \"block\";\n      // When the user clicks on <span> (x), close the modal\n      span.onclick = function () {\n          modal.style.display = \"none\";\n      };\n  };\n    \n  const swiped = (\n    direction,\n    nameToDelete,\n    price_saved,\n    descriptiona,\n    fineprinta,\n    urla\n  ) => {\n        if  (direction === \"up\" || direction === \"down\"){\n              if  (savedforlater.length  <  5){\n                    savedforlater.push({\n                    name: nameToDelete,\n                    description: descriptiona,\n                    fine_print: fineprinta,\n                    })\n                    var i = savedforlater.length\n                  var elemid = \"slide \" + savedforlater.length;\n                  var slide = document.getElementById(elemid);\n                  slide.style.display = \"block\"\n                  var banner = document.getElementById(\"banner2\");\n                  banner.innerHTML = \"Your Saved Deals\"\n                  var name = document.getElementById(\"name \" + i);\n                  var desc = document.getElementById(\"desc \" + i);\n                  var finepr = document.getElementById(\"finepr \" + i);\n                  var url = document.getElementById(\"url \" + i);\n\n                  name.innerHTML = nameToDelete\n                  desc.innerHTML = descriptiona;\n                  finepr.innerHTML = fineprinta;\n                  url.innerHTML = \"Link\"\n                  url.setAttribute(\"href\", urla)\n                  url.setAttribute(\"target\", \"_blank\");\n            }\n            else{\n                  alert(\"Too many deals!\")\n              }\n      }\n    \n    if (direction === \"right\") {\n      swipes++;\n      swipedRight.push({\n        name: nameToDelete,\n        savings: price_saved,\n        description: descriptiona,\n        fine_print: fineprinta,\n        url: urla,\n      });\n      console.log(swipedRight);\n      if (swipes === 4) {\n        var highest = Number.MIN_VALUE;\n        var ans = \"test\";\n\n        for (var i = 0; i < swipedRight.length; i++) {\n          if (swipedRight[i].savings > highest) {\n            highest = swipedRight[i].savings;\n            ans = swipedRight[i];\n          }\n        }\n        var modal = document.getElementById(\"myModal\");\n        var modaltext = document.getElementById(\"deal\");\n        document.getElementById(\"banner\").textContent = \"HERE IS YOUR DEAL WOOOO\"\n        document.getElementById(\"deal\").textContent = ans.name;\n        document.getElementById(\"savings\").textContent = \"You Saved: \" + ans.savings + \" ðŸ¤‘\";\n        document.getElementById(\"description\").textContent = ans.description;\n        document.getElementById(\"finePrint\").textContent = ans.fine_print;\n        document.getElementById(\"url\").style.display = \"block\"\n        document.getElementById(\"url\").textContent = \"Click here for link to deal\";\n        document.getElementById(\"url\").setAttribute(\"href\", ans.url);\n        document.getElementById(\"url\").setAttribute(\"target\", \"_blank\");\n        // Get the <span> element that closes the modal\n        var span = document.getElementsByClassName(\"close\")[0];\n        modal.style.display = \"block\";\n        // When the user clicks on <span> (x), close the modal\n        span.onclick = function () {\n          document.getElementById(\"url\").style.display = \"none\"\n          modal.style.display = \"none\";\n              swipes = 0;\n              swipedRight = []\n        };\n      }\n    }\n    console.log(\"removing: \" + nameToDelete);\n    setLastDirection(direction);\n    count++;\n  };\n\n  const outOfFrame = (name) => {\n    console.log(name + \" left the screen!\");\n  };\n\n  return (\n    <div className=\"readable\">\n      <link\n        href=\"https://fonts.googleapis.com/css?family=Damion&display=swap\"\n        rel=\"stylesheet\"\n      />\n      <link\n        href=\"https://fonts.googleapis.com/css?family=Alatsi&display=swap\"\n        rel=\"stylesheet\"\n      />\n      <link\n        href=\"https://fonts.googleapis.com/css2?family=Staatliches&display=swap\"\n        rel=\"stylesheet\"\n          />\n      <link href=\"https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300&display=swap\" \n        rel=\"stylesheet\"></link>\n          \n    <div className=\"text\">\n        <input className=\"form-entry\" type=\"text\" placeholder=\"Enter your city...\" id=\"citySearch\" />\n        <input type=\"text\" placeholder=\"Enter your state..\" id=\"stateSearch\" />\n        <button type=\"button\" onClick={() => changelocation()}>Search</button>\n    </div>\n\n      <h1>Swipe right on your fave deals!</h1>\n      <div className=\"cardContainer\">\n        {arrayofplaces.map((place) => (\n\n          <TinderCard\n            className=\"swipe\"\n            key={place.name}\n            onSwipe=\n            {\n              (dir) =>\n              swiped\n              (\n                dir,\n                place.name,\n                place.price_saved,\n                place.description,\n                place.fine_print,\n                place.url\n              )\n            }\n            onCardLeftScreen={() => outOfFrame(place.name)}\n            \n          >\n            \n            <div\n              // style={{ backgroundImage: \"url(\" + \"http://clipart-library.com/img1/1439306.png\" + \")\" }}\n              className=\"card\"\n            >\n            \n              <h2>{place.name}</h2>\n                    <button onClick=\n                        {\n                            () => clicked\n                                (\n                                    place.name,\n                                    place.description,\n                                    place.fine_print\n                                )\n                        }> Details </button>\n              \n              <div className=\"imagecontainer\">\n                </div> \n\n            </div>\n            \n          </TinderCard>\n        ))}\n        <h3> You're Out Of Cards</h3>\n      </div>\n      {lastDirection ? (\n        <h2 className=\"infoText\">You swiped {lastDirection}</h2>\n      ) : (\n        <h2 className=\"infoText\" />\n      )}\n      <button id = \"savedcards\" onClick = \n      {\n        () => savedclick (savedforlater)\n      }\n      > See Your Saved Cards </button>\n    </div>\n  );\n}\n\nexport default Simple;\n"]},"metadata":{},"sourceType":"module"}