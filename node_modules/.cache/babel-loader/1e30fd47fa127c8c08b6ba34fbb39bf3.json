{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _value = require('./value');\n\nvar _value2 = _interopRequireDefault(_value);\n\nvar _composite = require('./composite');\n\nvar _composite2 = _interopRequireDefault(_composite);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction createPointer(_ref2, _ref) {\n  var x = _ref2.x,\n      y = _ref2.y;\n\n  var eventToPoints = _ref.eventToPoints,\n      moveEvent = _ref.moveEvent,\n      props = _objectWithoutProperties(_ref, ['eventToPoints', 'moveEvent']);\n\n  var pointer = (0, _composite2.default)({\n    x: (0, _value2.default)(x),\n    y: (0, _value2.default)(y)\n  }, _extends({\n    preventDefault: true\n  }, props));\n\n  var updatePointer = function updatePointer(e) {\n    if (pointer.getProp('preventDefault')) {\n      e.preventDefault();\n    }\n\n    var points = eventToPoints(e);\n    pointer.x.set(points.x);\n    pointer.y.set(points.y);\n  };\n\n  pointer.setProps({\n    _onStart: function _onStart() {\n      return document.documentElement.addEventListener(moveEvent, updatePointer, {\n        passive: !pointer.getProp('preventDefault')\n      });\n    },\n    _onStop: function _onStop() {\n      return document.documentElement.removeEventListener(moveEvent, updatePointer);\n    }\n  });\n  return pointer;\n}\n\nvar mouseEventToPoint = function mouseEventToPoint(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n};\n\nvar touchEventToPoint = function touchEventToPoint(_ref3) {\n  var changedTouches = _ref3.changedTouches;\n  return {\n    x: changedTouches[0].clientX,\n    y: changedTouches[0].clientY\n  };\n};\n\nvar getNativeEvent = function getNativeEvent(e) {\n  return e.originalEvent || e.nativeEvent || e;\n};\n\nexports.default = function (e, props) {\n  var nativeEvent = getNativeEvent(e);\n  return nativeEvent.touches ? createPointer(touchEventToPoint(e), _extends({\n    moveEvent: 'touchmove',\n    eventToPoints: touchEventToPoint\n  }, props)) : createPointer(mouseEventToPoint(e), _extends({\n    moveEvent: 'mousemove',\n    eventToPoints: mouseEventToPoint\n  }, props));\n};","map":{"version":3,"sources":["../../src/actions/pointer.js"],"names":["x","y","eventToPoints","moveEvent","props","pointer","preventDefault","updatePointer","e","points","_onStart","document","passive","_onStop","mouseEventToPoint","clientY","touchEventToPoint","changedTouches","getNativeEvent","nativeEvent"],"mappings":"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","sourcesContent":["import value from './value';\nimport composite from './composite';\n\nfunction createPointer({ x, y }, { eventToPoints, moveEvent, ...props }) {\n  const pointer = composite({\n    x: value(x),\n    y: value(y)\n  }, {\n    preventDefault: true,\n    ...props\n  });\n\n  const updatePointer = (e) => {\n    if (pointer.getProp('preventDefault')) {\n      e.preventDefault();\n    }\n\n    const points = eventToPoints(e);\n    pointer.x.set(points.x);\n    pointer.y.set(points.y);\n  };\n\n  pointer.setProps({\n    _onStart: () => document.documentElement.addEventListener(moveEvent, updatePointer, { passive: !pointer.getProp('preventDefault') }),\n    _onStop: () => document.documentElement.removeEventListener(moveEvent, updatePointer)\n  });\n\n  return pointer;\n}\n\nconst mouseEventToPoint = (e) => ({\n  x: e.clientX,\n  y: e.clientY\n});\n\nconst touchEventToPoint = ({ changedTouches }) => ({\n  x: changedTouches[0].clientX,\n  y: changedTouches[0].clientY\n});\n\nconst getNativeEvent = (e) => e.originalEvent || e.nativeEvent || e;\n\nexport default (e, props) => {\n  const nativeEvent = getNativeEvent(e);\n  return (nativeEvent.touches) ?\n    createPointer(touchEventToPoint(e), {\n      moveEvent: 'touchmove',\n      eventToPoints: touchEventToPoint,\n      ...props\n    }) :\n    createPointer(mouseEventToPoint(e), {\n      moveEvent: 'mousemove',\n      eventToPoints: mouseEventToPoint,\n      ...props\n    });\n};\n"]},"metadata":{},"sourceType":"script"}