{"ast":null,"code":"var hasRAF = typeof window !== 'undefined' && window.requestAnimationFrame !== undefined;\nvar prevTime = 0;\nvar onNextFrame = hasRAF ? function (callback) {\n  return window.requestAnimationFrame(callback);\n} : function (callback) {\n  var currentTime = Date.now();\n  var timeToCall = Math.max(0, 16.7 - (currentTime - prevTime));\n  prevTime = currentTime + timeToCall;\n  setTimeout(function () {\n    return callback(prevTime);\n  }, timeToCall);\n};\n\nfunction createRenderStep(startRenderLoop) {\n  var functionsToRun = [];\n  var functionsToRunNextFrame = [];\n  var numThisFrame = 0;\n  var isProcessing = false;\n  var i = 0;\n  return {\n    cancel: function (callback) {\n      var indexOfCallback = functionsToRunNextFrame.indexOf(callback);\n\n      if (indexOfCallback !== -1) {\n        functionsToRunNextFrame.splice(indexOfCallback, 1);\n      }\n    },\n    process: function () {\n      isProcessing = true;\n      _a = [functionsToRunNextFrame, functionsToRun], functionsToRun = _a[0], functionsToRunNextFrame = _a[1];\n      functionsToRunNextFrame.length = 0;\n      numThisFrame = functionsToRun.length;\n\n      for (i = 0; i < numThisFrame; i++) {\n        functionsToRun[i]();\n      }\n\n      isProcessing = false;\n\n      var _a;\n    },\n    schedule: function (callback, immediate) {\n      if (immediate === void 0) {\n        immediate = false;\n      }\n\n      startRenderLoop();\n      var addToCurrentBuffer = immediate && isProcessing;\n      var buffer = addToCurrentBuffer ? functionsToRun : functionsToRunNextFrame;\n\n      if (buffer.indexOf(callback) === -1) {\n        buffer.push(callback);\n\n        if (addToCurrentBuffer) {\n          numThisFrame = functionsToRun.length;\n        }\n      }\n    }\n  };\n}\n\nvar HAS_PERFORMANCE_NOW = typeof performance !== 'undefined' && performance.now !== undefined;\nvar currentTime = HAS_PERFORMANCE_NOW ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\nvar willRenderNextFrame = false;\nvar MAX_ELAPSED = 40;\nvar defaultElapsed = 16.7;\nvar useDefaultElapsed = true;\nvar currentFramestamp = 0;\nvar elapsed = 0;\n\nfunction startRenderLoop() {\n  if (willRenderNextFrame) return;\n  willRenderNextFrame = true;\n  useDefaultElapsed = true;\n  onNextFrame(processFrame);\n}\n\nvar frameStart = createRenderStep(startRenderLoop);\nvar frameUpdate = createRenderStep(startRenderLoop);\nvar frameRender = createRenderStep(startRenderLoop);\nvar frameEnd = createRenderStep(startRenderLoop);\n\nfunction processFrame(framestamp) {\n  willRenderNextFrame = false;\n  elapsed = useDefaultElapsed ? defaultElapsed : Math.max(Math.min(framestamp - currentFramestamp, MAX_ELAPSED), 1);\n  if (!useDefaultElapsed) defaultElapsed = elapsed;\n  currentFramestamp = framestamp;\n  frameStart.process();\n  frameUpdate.process();\n  frameRender.process();\n  frameEnd.process();\n  if (willRenderNextFrame) useDefaultElapsed = false;\n}\n\nvar onFrameStart = frameStart.schedule;\nvar onFrameUpdate = frameUpdate.schedule;\nvar onFrameRender = frameRender.schedule;\nvar onFrameEnd = frameEnd.schedule;\nvar cancelOnFrameStart = frameStart.cancel;\nvar cancelOnFrameUpdate = frameUpdate.cancel;\nvar cancelOnFrameRender = frameRender.cancel;\nvar cancelOnFrameEnd = frameEnd.cancel;\n\nvar timeSinceLastFrame = function () {\n  return elapsed;\n};\n\nvar currentFrameTime = function () {\n  return currentFramestamp;\n};\n\nexport { currentTime, onFrameStart, onFrameUpdate, onFrameRender, onFrameEnd, cancelOnFrameStart, cancelOnFrameUpdate, cancelOnFrameRender, cancelOnFrameEnd, timeSinceLastFrame, currentFrameTime };","map":{"version":3,"sources":["/Users/aramaswamy/Desktop/Fumble/node_modules/framesync/dist/framesync.es.js"],"names":["hasRAF","window","requestAnimationFrame","undefined","prevTime","onNextFrame","callback","currentTime","Date","now","timeToCall","Math","max","setTimeout","createRenderStep","startRenderLoop","functionsToRun","functionsToRunNextFrame","numThisFrame","isProcessing","i","cancel","indexOfCallback","indexOf","splice","process","_a","length","schedule","immediate","addToCurrentBuffer","buffer","push","HAS_PERFORMANCE_NOW","performance","willRenderNextFrame","MAX_ELAPSED","defaultElapsed","useDefaultElapsed","currentFramestamp","elapsed","processFrame","frameStart","frameUpdate","frameRender","frameEnd","framestamp","min","onFrameStart","onFrameUpdate","onFrameRender","onFrameEnd","cancelOnFrameStart","cancelOnFrameUpdate","cancelOnFrameRender","cancelOnFrameEnd","timeSinceLastFrame","currentFrameTime"],"mappings":"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","sourcesContent":["var hasRAF = typeof window !== 'undefined' && window.requestAnimationFrame !== undefined;\nvar prevTime = 0;\nvar onNextFrame = hasRAF\n    ? function (callback) { return window.requestAnimationFrame(callback); }\n    : function (callback) {\n        var currentTime = Date.now();\n        var timeToCall = Math.max(0, 16.7 - (currentTime - prevTime));\n        prevTime = currentTime + timeToCall;\n        setTimeout(function () { return callback(prevTime); }, timeToCall);\n    };\n\nfunction createRenderStep(startRenderLoop) {\n    var functionsToRun = [];\n    var functionsToRunNextFrame = [];\n    var numThisFrame = 0;\n    var isProcessing = false;\n    var i = 0;\n    return {\n        cancel: function (callback) {\n            var indexOfCallback = functionsToRunNextFrame.indexOf(callback);\n            if (indexOfCallback !== -1) {\n                functionsToRunNextFrame.splice(indexOfCallback, 1);\n            }\n        },\n        process: function () {\n            isProcessing = true;\n            _a = [functionsToRunNextFrame, functionsToRun], functionsToRun = _a[0], functionsToRunNextFrame = _a[1];\n            functionsToRunNextFrame.length = 0;\n            numThisFrame = functionsToRun.length;\n            for (i = 0; i < numThisFrame; i++) {\n                functionsToRun[i]();\n            }\n            isProcessing = false;\n            var _a;\n        },\n        schedule: function (callback, immediate) {\n            if (immediate === void 0) { immediate = false; }\n            startRenderLoop();\n            var addToCurrentBuffer = immediate && isProcessing;\n            var buffer = addToCurrentBuffer ? functionsToRun : functionsToRunNextFrame;\n            if (buffer.indexOf(callback) === -1) {\n                buffer.push(callback);\n                if (addToCurrentBuffer) {\n                    numThisFrame = functionsToRun.length;\n                }\n            }\n        },\n    };\n}\n\nvar HAS_PERFORMANCE_NOW = typeof performance !== 'undefined' && performance.now !== undefined;\nvar currentTime = HAS_PERFORMANCE_NOW ? function () { return performance.now(); } : function () { return Date.now(); };\nvar willRenderNextFrame = false;\nvar MAX_ELAPSED = 40;\nvar defaultElapsed = 16.7;\nvar useDefaultElapsed = true;\nvar currentFramestamp = 0;\nvar elapsed = 0;\nfunction startRenderLoop() {\n    if (willRenderNextFrame)\n        return;\n    willRenderNextFrame = true;\n    useDefaultElapsed = true;\n    onNextFrame(processFrame);\n}\nvar frameStart = createRenderStep(startRenderLoop);\nvar frameUpdate = createRenderStep(startRenderLoop);\nvar frameRender = createRenderStep(startRenderLoop);\nvar frameEnd = createRenderStep(startRenderLoop);\nfunction processFrame(framestamp) {\n    willRenderNextFrame = false;\n    elapsed = useDefaultElapsed\n        ? defaultElapsed\n        : Math.max(Math.min(framestamp - currentFramestamp, MAX_ELAPSED), 1);\n    if (!useDefaultElapsed)\n        defaultElapsed = elapsed;\n    currentFramestamp = framestamp;\n    frameStart.process();\n    frameUpdate.process();\n    frameRender.process();\n    frameEnd.process();\n    if (willRenderNextFrame)\n        useDefaultElapsed = false;\n}\nvar onFrameStart = frameStart.schedule;\nvar onFrameUpdate = frameUpdate.schedule;\nvar onFrameRender = frameRender.schedule;\nvar onFrameEnd = frameEnd.schedule;\nvar cancelOnFrameStart = frameStart.cancel;\nvar cancelOnFrameUpdate = frameUpdate.cancel;\nvar cancelOnFrameRender = frameRender.cancel;\nvar cancelOnFrameEnd = frameEnd.cancel;\nvar timeSinceLastFrame = function () { return elapsed; };\nvar currentFrameTime = function () { return currentFramestamp; };\n\nexport { currentTime, onFrameStart, onFrameUpdate, onFrameRender, onFrameEnd, cancelOnFrameStart, cancelOnFrameUpdate, cancelOnFrameRender, cancelOnFrameEnd, timeSinceLastFrame, currentFrameTime };\n"]},"metadata":{},"sourceType":"module"}