{"ast":null,"code":"var _jsxFileName = \"/Users/ayushiambhore/Desktop/caponehack/Fumble/src/examples/Simple.js\";\nimport React, { useState, useEffect } from \"react\"; // import TinderCard from '../react-tinder-card/index'\n\nimport TinderCard from \"react-tinder-card\";\nimport ReactDOM from \"react-dom\";\nvar queried = false;\nvar searchcombination = '';\nvar count = 0;\nvar savedforlater = []; // const SearchFunction = () => {\n//   console.log(\"in the search\")\n//   var city = document.getElementById(\"citySearch\").value\n//   var state = document.getElementById(\"stateSearch\").value\n//   searchcombination = city + ',' + state\n//   searchcombination = searchcombination.toLowerCase()\n//   console.log(searchcombination)\n//   queried = false\n//   // setloc(searchcombination)\n// }\n\nvar city = \"richmond\";\nvar state = \"va\";\n\nfunction Simple() {\n  console.log(temparray);\n  console.log(\"searchcombination: \" + searchcombination);\n  var temparray = [];\n  const [arrayofplaces, setarray] = useState([{\n    name: \"Finding you deals...\",\n    imageurl: \"\",\n    price_saved: 0,\n    description: \"\",\n    fineprint: \"\",\n    url: \"\"\n  }]); // const [location, setlocation] = useState(\"richmond,va\")\n\n  const [location, setlocation] = useState(document.getElementById(\"citySearch\") + \",\" + document.getElementById(\"stateSearch\"));\n  useEffect(() => {\n    console.log(\"in useEffect\");\n\n    if (!queried) {\n      var place = prompt(\"Enter your place\");\n      fetch(\"https://api.discountapi.com/v2/deals?category_slugs=restaurants&location=\" + location + \"&api_key=KiyYblAt\").then(function (response) {\n        return response.json();\n      }).then(function (result) {\n        console.log(result);\n        queried = true;\n\n        for (var i = 0; i < result.deals.length; i++) {\n          temparray.push({\n            name: result.deals[i].deal.title,\n            imageurl: result.deals[i].deal.image_url,\n            price_saved: result.deals[i].deal.discount_amount,\n            description: result.deals[i].deal.description,\n            fineprint: result.deals[i].deal.fineprint,\n            url: result.deals[i].deal.url\n          });\n        }\n\n        setarray(temparray);\n      });\n    }\n  });\n  const [lastDirection, setLastDirection] = useState();\n  var swipedRight = [];\n  var price_saved_vals = [];\n  var swipes = 0;\n\n  const searchbylocation = (city, state) => {\n    searchcombination = city + ',' + state;\n    searchcombination = searchcombination.toLowerCase();\n    console.log(searchcombination);\n    queried = false; //  setloc(searchcombination)\n  };\n\n  const clicked = (title, description, fineprint) => {\n    var modal = document.getElementById(\"myModal\");\n    var modaltext = document.getElementById(\"deal\");\n    document.getElementById(\"banner\").textContent = \"More Information\";\n    document.getElementById(\"deal\").textContent = title;\n    document.getElementById(\"description\").textContent = description;\n    document.getElementById(\"finePrint\").textContent = fineprint; // Get the <span> element that closes the modal\n\n    var span = document.getElementsByClassName(\"close\")[0];\n    modal.style.display = \"block\"; // When the user clicks on <span> (x), close the modal\n\n    span.onclick = function () {\n      modal.style.display = \"none\";\n    };\n  };\n\n  const swiped = (direction, nameToDelete, price_saved, descriptiona, fineprinta, urla) => {\n    if (arrayofplaces.length == count) {\n      alert(\"You're all out of cards :(\");\n    }\n\n    if (direction === \"up\" || direction === \"down\") {\n      savedforlater.push({\n        name: nameToDelete,\n        description: descriptiona,\n        fineprint: fineprinta,\n        url: urla\n      });\n    }\n\n    if (direction === \"right\") {\n      swipes++;\n      swipedRight.push({\n        name: nameToDelete,\n        savings: price_saved,\n        description: descriptiona,\n        fineprint: fineprinta,\n        url: urla\n      });\n      console.log(swipedRight);\n\n      if (swipes === 4) {\n        var highest = Number.MIN_VALUE;\n        var ans = \"test\";\n\n        for (var i = 0; i < swipedRight.length; i++) {\n          if (swipedRight[i].savings > highest) {\n            highest = swipedRight[i].savings;\n            ans = swipedRight[i];\n          }\n        }\n\n        var modal = document.getElementById(\"myModal\");\n        var modaltext = document.getElementById(\"deal\");\n        document.getElementById(\"banner\").textContent = \"HERE IS YOUR DEAL WOOOO\";\n        document.getElementById(\"deal\").textContent = ans.name;\n        document.getElementById(\"description\").textContent = ans.description;\n        document.getElementById(\"finePrint\").textContent = ans.fineprint;\n        document.getElementById(\"url\").style.display = \"block\";\n        document.getElementById(\"url\").textContent = \"Click here for link to deal\";\n        document.getElementById(\"url\").setAttribute(\"href\", ans.url);\n        document.getElementById(\"url\").setAttribute(\"target\", \"_blank\"); // Get the <span> element that closes the modal\n\n        var span = document.getElementsByClassName(\"close\")[0];\n        modal.style.display = \"block\"; // When the user clicks on <span> (x), close the modal\n\n        span.onclick = function () {\n          document.getElementById(\"url\").style.display = \"none\";\n          modal.style.display = \"none\";\n          swipes = 0;\n          swipedRight = [];\n        };\n      }\n    }\n\n    console.log(\"removing: \" + nameToDelete);\n    setLastDirection(direction);\n    count++;\n  };\n\n  const outOfFrame = name => {\n    console.log(name + \" left the screen!\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"readable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"link\", {\n    href: \"https://fonts.googleapis.com/css?family=Damion&display=swap\",\n    rel: \"stylesheet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"link\", {\n    href: \"https://fonts.googleapis.com/css?family=Alatsi&display=swap\",\n    rel: \"stylesheet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"link\", {\n    href: \"https://fonts.googleapis.com/css2?family=Staatliches&display=swap\",\n    rel: \"stylesheet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mx-sm-3 mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter your city...\",\n    id: \"citySearch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter your state..\",\n    id: \"stateSearch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => setlocation(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }\n  }, \"Search\")), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }\n  }, \"Swipe right on your fave deals!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cardContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }\n  }, arrayofplaces.map(place => /*#__PURE__*/React.createElement(TinderCard, {\n    className: \"swipe\",\n    key: place.name,\n    onSwipe: dir => swiped(dir, place.name, place.price_saved, place.description, place.fineprint, place.url),\n    onCardLeftScreen: () => outOfFrame(place.name),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundImage: \"url(\" + place.image_url + \")\"\n    },\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 15\n    }\n  }, place.name), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => clicked(place.name, place.description, place.fineprint),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 21\n    }\n  }, \" Details \"))))), lastDirection ? /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"infoText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 9\n    }\n  }, \"You swiped \", lastDirection) : /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"infoText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default Simple;","map":{"version":3,"sources":["/Users/ayushiambhore/Desktop/caponehack/Fumble/src/examples/Simple.js"],"names":["React","useState","useEffect","TinderCard","ReactDOM","queried","searchcombination","count","savedforlater","city","state","Simple","console","log","temparray","arrayofplaces","setarray","name","imageurl","price_saved","description","fineprint","url","location","setlocation","document","getElementById","place","prompt","fetch","then","response","json","result","i","deals","length","push","deal","title","image_url","discount_amount","lastDirection","setLastDirection","swipedRight","price_saved_vals","swipes","searchbylocation","toLowerCase","clicked","modal","modaltext","textContent","span","getElementsByClassName","style","display","onclick","swiped","direction","nameToDelete","descriptiona","fineprinta","urla","alert","savings","highest","Number","MIN_VALUE","ans","setAttribute","outOfFrame","map","dir","backgroundImage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n// import TinderCard from '../react-tinder-card/index'\nimport TinderCard from \"react-tinder-card\";\nimport ReactDOM from \"react-dom\";\n\nvar queried = false\nvar searchcombination = ''\n\nvar count = 0;\nvar savedforlater = []\n\n// const SearchFunction = () => {\n\n//   console.log(\"in the search\")\n\n//   var city = document.getElementById(\"citySearch\").value\n//   var state = document.getElementById(\"stateSearch\").value\n//   searchcombination = city + ',' + state\n//   searchcombination = searchcombination.toLowerCase()\n//   console.log(searchcombination)\n//   queried = false\n//   // setloc(searchcombination)\n// }\nvar city = \"richmond\"\nvar state = \"va\"\n\nfunction Simple() {\n  console.log(temparray)\n  console.log(\"searchcombination: \" + searchcombination)\n  var temparray = []\n  const [arrayofplaces, setarray] = useState([\n    {\n      name: \"Finding you deals...\",\n      imageurl: \"\",\n      price_saved: 0,\n      description: \"\",\n      fineprint: \"\",\n      url: \"\",\n    },\n  ]);\n    \n  // const [location, setlocation] = useState(\"richmond,va\")\n  const [location, setlocation] = useState(document.getElementById(\"citySearch\") + \",\" + document.getElementById(\"stateSearch\"))\n  useEffect(() => {\n    console.log(\"in useEffect\")\n    if (!queried) {\n      var place = prompt(\"Enter your place\")\n      \n      fetch(\n        \"https://api.discountapi.com/v2/deals?category_slugs=restaurants&location=\" + location + \"&api_key=KiyYblAt\"\n      )\n        .then(function (response) {\n          return response.json();\n        })\n        .then(function (result) {\n          console.log(result);\n          queried = true;\n          for (var i = 0; i < result.deals.length; i++) {\n            temparray.push({\n              name: result.deals[i].deal.title,\n              imageurl: result.deals[i].deal.image_url,\n              price_saved: result.deals[i].deal.discount_amount,\n              description: result.deals[i].deal.description,\n              fineprint: result.deals[i].deal.fineprint,\n              url: result.deals[i].deal.url,\n            });\n          }\n          setarray(temparray);\n        });\n    }\n  });\n\n  const [lastDirection, setLastDirection] = useState();\n  var swipedRight = [];\n  var price_saved_vals = [];\n  var swipes = 0;\n  const searchbylocation = (\n    city,\n    state\n  ) => {\n     searchcombination = city + ',' + state\n     searchcombination = searchcombination.toLowerCase()\n     console.log(searchcombination)\n     queried = false\n    //  setloc(searchcombination)\n  };\n  const clicked = (\n    title,\n    description,\n    fineprint\n  ) => {\n      var modal = document.getElementById(\"myModal\");\n      var modaltext = document.getElementById(\"deal\");\n      document.getElementById(\"banner\").textContent = \"More Information\"\n      document.getElementById(\"deal\").textContent = title;\n      document.getElementById(\"description\").textContent = description;\n      document.getElementById(\"finePrint\").textContent = fineprint;\n      // Get the <span> element that closes the modal\n      var span = document.getElementsByClassName(\"close\")[0];\n      modal.style.display = \"block\";\n      // When the user clicks on <span> (x), close the modal\n      span.onclick = function () {\n          modal.style.display = \"none\";\n      };\n  };\n    \n  const swiped = (\n    direction,\n    nameToDelete,\n    price_saved,\n    descriptiona,\n    fineprinta,\n    urla\n  ) => {\n    if(arrayofplaces.length == count)\n    {\n      alert(\"You're all out of cards :(\");\n    }\n    if(direction === \"up\" || direction === \"down\")\n    {\n        savedforlater.push({\n                name: nameToDelete,\n                description: descriptiona,\n                fineprint: fineprinta,\n                url: urla\n        \n        })\n    }\n    if (direction === \"right\") {\n      swipes++;\n      swipedRight.push({\n        name: nameToDelete,\n        savings: price_saved,\n        description: descriptiona,\n        fineprint: fineprinta,\n        url: urla,\n      });\n      console.log(swipedRight);\n      if (swipes === 4) {\n        var highest = Number.MIN_VALUE;\n        var ans = \"test\";\n\n        for (var i = 0; i < swipedRight.length; i++) {\n          if (swipedRight[i].savings > highest) {\n            highest = swipedRight[i].savings;\n            ans = swipedRight[i];\n          }\n        }\n        var modal = document.getElementById(\"myModal\");\n        var modaltext = document.getElementById(\"deal\");\n        document.getElementById(\"banner\").textContent = \"HERE IS YOUR DEAL WOOOO\"\n        document.getElementById(\"deal\").textContent = ans.name;\n        document.getElementById(\"description\").textContent = ans.description;\n        document.getElementById(\"finePrint\").textContent = ans.fineprint;\n        document.getElementById(\"url\").style.display = \"block\"\n        document.getElementById(\"url\").textContent = \"Click here for link to deal\";\n        document.getElementById(\"url\").setAttribute(\"href\", ans.url);\n        document.getElementById(\"url\").setAttribute(\"target\", \"_blank\");\n        // Get the <span> element that closes the modal\n        var span = document.getElementsByClassName(\"close\")[0];\n        modal.style.display = \"block\";\n        // When the user clicks on <span> (x), close the modal\n        span.onclick = function () {\n          document.getElementById(\"url\").style.display = \"none\"\n          modal.style.display = \"none\";\n              swipes = 0;\n              swipedRight = []\n        };\n      }\n    }\n    console.log(\"removing: \" + nameToDelete);\n    setLastDirection(direction);\n    count++;\n  };\n\n  const outOfFrame = (name) => {\n    console.log(name + \" left the screen!\");\n  };\n\n  return (\n    <div className=\"readable\">\n      <link\n        href=\"https://fonts.googleapis.com/css?family=Damion&display=swap\"\n        rel=\"stylesheet\"\n      />\n      <link\n        href=\"https://fonts.googleapis.com/css?family=Alatsi&display=swap\"\n        rel=\"stylesheet\"\n      />\n      <link\n        href=\"https://fonts.googleapis.com/css2?family=Staatliches&display=swap\"\n        rel=\"stylesheet\"\n          />\n          \n    <div className=\"form-group mx-sm-3 mb-2\">\n        <input type=\"text\" placeholder=\"Enter your city...\" id=\"citySearch\" />\n        <input type=\"text\" placeholder=\"Enter your state..\" id=\"stateSearch\" />\n        <button type=\"button\" onClick={() => setlocation()}>Search</button>\n    </div>\n\n      <h1>Swipe right on your fave deals!</h1>\n      <div className=\"cardContainer\">\n        {arrayofplaces.map((place) => (\n          <TinderCard\n            className=\"swipe\"\n            key={place.name}\n            onSwipe=\n            {\n              (dir) =>\n              swiped\n              (\n                dir,\n                place.name,\n                place.price_saved,\n                place.description,\n                place.fineprint,\n                place.url\n              )\n            }\n            onCardLeftScreen={() => outOfFrame(place.name)}\n          >\n            <div\n              style={{ backgroundImage: \"url(\" + place.image_url + \")\" }}\n              className=\"card\"\n            >\n              <h2>{place.name}</h2>\n                    <button onClick=\n                        {\n                            () => clicked\n                                (\n                                    place.name,\n                                    place.description,\n                                    place.fineprint\n                                )\n                        }> Details </button>\n\n            </div>\n          </TinderCard>\n        ))}\n      </div>\n      {lastDirection ? (\n        <h2 className=\"infoText\">You swiped {lastDirection}</h2>\n      ) : (\n        <h2 className=\"infoText\" />\n      )}\n    </div>\n  );\n}\n\nexport default Simple;\n"]},"metadata":{},"sourceType":"module"}